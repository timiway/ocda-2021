<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>北京奥运城市发展促进会 - 2021圣诞贺卡</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1">

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/app.css">

        <script src="libs/modernizr-2.8.3.min.js"></script>
        <script src="libs/jquery-1.12.0.min.js"></script>
    </head>
    <body>

    <div class="app-body">
        <div id="musicSwitch" class="m-btn"></div>
        <div class="ele" style="width: 130px; left: 20px; top: 10px;"><img src="img/026.png" /></div>
        <div class="ele fill" style="width: 200px; left: 40px; top: 50px;"><img src="img/003.png" /></div>
        <div class="ele fill" style="width: 200px; right: -110px; top: -40px;"><img src="img/004.png" /></div>
        <div class="ele fill" style="width: 150px; right: -30px; top: 390px;"><img src="img/005.png" /></div>
        <div class="ele fill" style="width: 70px; right: -10px; top: 120px;"><img src="img/007.png" /></div>
        <div class="app-paper">
            <div class="ele deer" style="width: 60px; left: 97px; top: 58px;"><img src="img/006.png" /></div>
            <div class="ele intro" style="width: 220px; left: 20px; top: 120px;"><img src="img/018.png" /></div>
            <div class="ele loop" style="width: 180px; left: 50px; top: 380px;"><img src="img/017.png" /></div>
            <div class="ele intro" style="width: 160px; left: 60px; top: 185px;"><img src="img/021.png" /></div>
            <div class="ele bull" style="width: 120px; left: 80px; top: 230px;"><img src="img/016.png" /></div>
            <div class="ele intro" style="width: 200px; left: 40px; top: 330px;"><img src="img/015.png" /></div>
            <div class="ele intro" style="width: 140px; left: 70px; top: 420px;"><img src="img/022.png" /></div>
        </div>
        <div class="ele down" style="width: 70px; left: -20px; top: 10px;"><img src="img/008.png" /></div>
        <div class="ele down" style="width: 100px; right: -20px; top: -40px;"><img src="img/020.png" /></div>
        <div class="ele down" style="width: 140px; right: 50px; top: 0;"><img src="img/024.png" /></div>
        <div class="ele down to-swing" style="width: 90px; right: 10px; top: 130px;"><img src="img/025.png" /></div>
        <div class="ele down to-swing" style="width: 90px; right: 100px; top: 0;"><img src="img/019.png" /></div>
        <div class="ele down to-swing" style="width: 130px; right: 5px; top: 0;"><img src="img/023.png" /></div>
        <div class="ele rotate2" style="width: 70px; left: -10px; top: -20px;"><img src="img/009.png" /></div>
        <div class="ele rotate1" style="width: 70px; left: 20px; top: 400px;"><img src="img/010.png" /></div>
        <div class="ele rotate2" style="width: 80px; right: -20px; top: 300px;"><img src="img/011.png" /></div>
        <div class="ele snow-big" style="width: 30px; left: 150px; top: 10px;"><img src="img/013.png" /></div>
        <div class="ele snow-big" style="width: 40px; left: 40px; top: 110px;"><img src="img/013.png" /></div>
        <div class="ele snow-big" style="width: 40px; left: 70px; top: 80px;"><img src="img/013.png" /></div>
        <div class="ele snow-big" style="width: 60px; left: 20px; top: 160px;"><img src="img/013.png" /></div>
        <div class="ele snow-big" style="width: 30px; left: 70px; top: 370px;"><img src="img/012.png" /></div>
        <div class="ele snow-big" style="width: 30px; left: 20px; top: 480px;"><img src="img/012.png" /></div>
        <div class="ele snow-big" style="width: 25px; left: 80px; top: 520px;"><img src="img/012.png" /></div>
        <div class="ele snow-big" style="width: 25px; left: 150px; top: 520px;"><img src="img/013.png" /></div>
        <div class="ele snow-big" style="width: 40px; left: 150px; top: 580px;"><img src="img/013.png" /></div>
    </div>
    <audio id="m" autoplay="autoplay" loop="loop" src="bg1.mp3"></audio>

    <script>
        //
        var media = document.getElementById("m");
        document.addEventListener('WeixinJSBridgeReady', function(){media.play()});
        //
        $(function () {
            //
            for (var i=0; i<20; i++) {
                setTimeout(createSnow, Math.round(Math.random()*8000)+1000);
            }
            //
            $(".star").each(function () {$(this).addClass(Math.round(Math.random())? 'rotate1':'rotate2')});
            $(".intro").each(function (i) {$(this).css('animation-delay', i*600+800 +'ms')});
            $(".down").each(function (i) {
                var that = $(this);
                that.css('animation-delay', i*100+2000 +'ms');
                if (that.is('.to-swing')) {
                    setTimeout(function() {that.addClass('swing')}, i*300+2600);
                }
            });
            $(".fill").each(function (i) {$(this).css('animation-delay', i*100+3000 +'ms')});
            $(".snow-big").each(function () {$(this).css('animation-delay', Math.round(Math.random()*5000)+'ms')});
            //
            $("#musicSwitch").click(function () {
                $(this).toggleClass("m-motion");
                if (media.paused) media.play();
                else media.pause();
            });
            //
            $(window).resize(function () {
                var ww = $(this).width(), wh = $(this).height();
                var pw = $('.app-body').width(), ph = $('.app-body').height();
                var flip = wh < ww && false;
                var deg = flip? '90deg':'0';
                var ratio = flip? Math.min(ww/ph, wh/pw):Math.min(ww/pw, wh/ph);
                $('.app-body').css({
                    top: Math.round((wh-ph)/2),
                    left: Math.round((ww-pw)/2),
                    transform: 'rotate('+deg+') scale('+ratio+')'
                });
            }).resize();
        });
        //
        function createSnow() {
            var star = $('<div class="snow"></div>');
            var x = Math.round(Math.random()*($(window).width()-100))+50;
            var y = Math.round(Math.random()*($(window).height()-100))+50;
            star.width(15).height(15).css({left: x, top: y}).appendTo(".app-body");
            setTimeout(function () {
                star.remove();
                createSnow();
            }, 5000);
        }
    </script>
    </body>
</html>
